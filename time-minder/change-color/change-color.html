<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="change-color.css" />
    <link rel="stylesheet" href="../../shared/header/headerConLogin.css" />
    <link rel="stylesheet" href="../../shared/footer/footer.css" />
    <link rel="stylesheet" href="../../font.css" />
    <script src="../../xlu-include-file.js"></script>
    <title>Login</title>
  </head>

  <body>
    <header
      id="main_header"
      xlu-include-file="../../shared/header/headerConLogin.html"
    >
      <!--<h1>This is the header of the website</h1>-->
    </header>

    <main>
      <div class="profile-container">
        <div class="barra-lateral">
          <div>
            <div class="panel">
              <ion-icon id="icono-panel" name="copy-outline"></ion-icon>
              <span>Panel de control</span>
            </div>
          </div>
          <nav class="navegacion">
            <ul>
              <li>
                <a href="../profile/profile.html">
                  <ion-icon name="create-outline"></ion-icon>
                  <span>Editar información</span>
                </a>
              </li>
              <li>
                <a id="cambiarColor" href="change-color.html">
                  <ion-icon name="color-palette-outline"></ion-icon>
                  <span>Cambiar color</span>
                </a>
              </li>
              <li>
                <a href="/index.html">
                  <ion-icon name="log-out-outline"></ion-icon>
                  <span>Cerrar sesión</span>
                </a>
              </li>
            </ul>
          </nav>
        </div>

        <div class="paletas">
          <!-- Paleta de Colores por defecto -->
          <div class="palettes-container">
            <div class="palette-containerDefault">
              <h2>Paleta por defecto</h2>
              <div class="color color1"></div>
              <div class="color color2"></div>
              <div class="color color3"></div>
              <div class="color color4"></div>
              <div class="color color5"></div>
            </div>
          </div>

          <!-- Paleta de Colores 1 -->
          <div class="palettes-container">
            <div class="palette-container1">
              <h2>Paleta malva</h2>
              <div class="color color1"></div>
              <div class="color color2"></div>
              <div class="color color3"></div>
              <div class="color color4"></div>
              <div class="color color5"></div>
            </div>
          </div>

          <!-- Paleta de Colores 2 -->
          <div class="palettes-container">
            <div class="palette-container2">
              <h2>Paleta selva</h2>
              <div class="color color1"></div>
              <div class="color color2"></div>
              <div class="color color3"></div>
              <div class="color color4"></div>
              <div class="color color5"></div>
            </div>
          </div>

          <!-- Paleta de Colores 3 -->
          <div class="palettes-container">
            <div class="palette-container3">
              <h2>Paleta intensa</h2>
              <div class="color color1"></div>
              <div class="color color2"></div>
              <div class="color color3"></div>
              <div class="color color4"></div>
              <div class="color color5"></div>
            </div>
          </div>

          <!-- Paleta de Colores 4 -->
          <div class="palettes-container">
            <div class="palette-container4">
              <h2>Paleta atardecer</h2>
              <div class="color color1"></div>
              <div class="color color2"></div>
              <div class="color color3"></div>
              <div class="color color4"></div>
              <div class="color color5"></div>
            </div>
          </div>

          <!-- Paleta de Colores 5 -->
          <div class="palettes-container">
            <div class="palette-container5">
              <h2>Paleta chiche</h2>
              <div class="color color1"></div>
              <div class="color color2"></div>
              <div class="color color3"></div>
              <div class="color color4"></div>
              <div class="color color5"></div>
            </div>
          </div>

          <!-- Paleta de Colores 6 -->
          <div class="palettes-container">
            <div class="palette-container6">
              <h2>Paleta tierra</h2>
              <div class="color color1"></div>
              <div class="color color2"></div>
              <div class="color color3"></div>
              <div class="color color4"></div>
              <div class="color color5"></div>
            </div>
          </div>

          <!-- Botón y menú desplegable para seleccionar paleta -->
          <div class="select-palette-container">
            <label for="palette-select">Seleccionar Paleta:</label>
            <select name="palettes" id="palette-select">
              <option value="default">Paleta por defecto</option>
              <option value="malva">Paleta malva</option>
              <option value="selva">Paleta selva</option>
              <option value="intensa">Paleta intensa</option>
              <option value="atardecer">Paleta atardecer</option>
              <option value="chiche">Paleta chiche</option>
              <option value="tierra">Paleta tierra</option>
            </select>
            <button onclick="selectPalette()">Seleccionar Paleta</button>
          </div>
          <div class="botonesMovimiento">
            <a href="../profile/profile.html">
              <ion-icon name="create-outline"></ion-icon>
            </a>
            <a href="/index.html">
              <ion-icon name="log-out-outline"></ion-icon>
            </a>
          </div>
        </div>
      </div>
    </main>

    <footer id="main_footer" xlu-include-file="../../shared/footer/footer.html">
      <!--<h1>This is the footer of the website</h1>-->
    </footer>

    <script
      type="module"
      src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"
    ></script>

    <script src="/time-minder/change-color/script.js"></script>

    <script>
      xLuIncludeFile();
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", async function () {
        // Buscar el span con el ID 'userName'
        const userNameSpan = document.getElementById("userName");

        try {
          // Obtener la información del usuario
          const name = await getInfoUser("user-1");

          // Verificar si se encontró el span
          if (userNameSpan) {
            // Modificar el contenido del span
            userNameSpan.textContent = name;
          } else {
            console.error('No se encontró el span con el ID "userName"');
          }
        } catch (error) {
          console.error("Error al obtener la información del usuario:", error);
        }
      });

      async function getInfoUser(id) {
        const eventResponse = await fetch("http://localhost:3000/users");
        const data = await eventResponse.json();

        let name = "";
        data.forEach((user) => {
          if (user.id === id) {
            name = user.name;
          }
        });
        return name;
      }

      async function getInfoUser(id) {
        const eventResponse = await fetch("http://localhost:3000/users");
        const data = await eventResponse.json();

        let name = "";
        data.forEach((user) => {
          if (user.id === id) {
            name = user.name;
          }
        });
        return name;
      }
    </script>
  </body>
</html>
