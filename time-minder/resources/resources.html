<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recursos</title>
    <link rel="stylesheet" href="resources.css">

    <link rel="stylesheet" href="../../shared/header/headerConLogin.css">
    <link rel="stylesheet" href="../../shared/footer/footer.css">
    <link rel="stylesheet" href="../../font.css">
    <script src="../../xlu-include-file.js"></script>
</head>
<body>
    <header xlu-include-file="../../shared/header/headerConLogin.html">
    </header>
    <button id="toggleAsideBtn" class="toggle-aside-btn">Mostrar/Ocultar</button>

    <main>
        <aside id="sidebar" class="mobile">
            <h1>Filtros:</h1>
            <form>
                <label for="name">Nombre</label>
                <input type="text" name>
    
                <label for="day">Dia</label>
                <input type="date" day>
    
                <label for="ubication">Ubicación</label>
                <input type="text" ubication>
    
                <button class="btn-custom">Filtrar</button>
    
            </form>
        </aside>

        <section>

            <div id="contenido"></div>
            <div class="btn-zone">
                <button class="btn-custom">Subir Archivos</button>
                <button class="btn-custom">Mis Recursos</button>
                <button class="btn-custom">Explorar</button>
            </div>
        </section>
    </main>
    
    
    <footer xlu-include-file="../../shared/footer/footer.html"></footer>
    
    <script>
        xLuIncludeFile();
    </script>

    <script src="resources.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", async function () {
          // Buscar el span con el ID 'userName'
          const userNameSpan = document.getElementById("userName");
  
          try {
            // Obtener la información del usuario
            const name = await getInfoUser("user-1");
  
            // Verificar si se encontró el span
            if (userNameSpan) {
              // Modificar el contenido del span
              userNameSpan.textContent = name;
            } else {
              console.error('No se encontró el span con el ID "userName"');
            }
          } catch (error) {
            console.error("Error al obtener la información del usuario:", error);
          }
        });
  
        async function getInfoUser(id) {
          const eventResponse = await fetch("http://localhost:3000/users");
          const data = await eventResponse.json();
  
          let name = "";
          data.forEach((user) => {
            if (user.id === id) {
              name = user.name;
            }
          });
          return name;
        }
  
        async function getInfoUser(id) {
          const eventResponse = await fetch("http://localhost:3000/users");
          const data = await eventResponse.json();
  
          let name = "";
          data.forEach((user) => {
            if (user.id === id) {
              name = user.name;
            }
          });
          return name;
        }
      </script>
</body>
</html>